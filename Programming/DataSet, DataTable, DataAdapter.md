Ранее для получения данных мы использовали объект SqlDataReader, с помощью которого построчно можно перебрать ответ от сервера базы данных. Но есть и другой способ, который демонстрирует использование объектов DataSet.

Класс DataSet из пространства имен `System.Data` представляет хранилище или кэш данных в памяти, извлеченных из источника данных. Объект `DataSet` содержит таблицы, которые представлены типом DataTable. Таблица `DataTable`, в свою очередь, состоит из столбцов и строк. Каждый столбец представляет объект DataColumn, а строка - объект DataRow.

Для наполнения объекта DataSet данными из источника данных применяется класс `System.Data.Common.DataAdapter` (который реализует интерфейс `System.Data.IDataAdapter`), а точнее его реализации, предназначенные для работы с определенной СУБД.

Для заполнения объекта DataSet у объекта `DataAdapter` вызывается метод Fill(), в который в качестве параметра передается заполняемый объект DataSet.

Метод `Fill()` неявно открывает объект подключения, который хранится в свойстве Connection объекта `DataAdapter`, если это подключение не открыто. Если метод `Fill()` открывает подключение, то после получения данных метод Fill закрывает это подключение.

Если подключение до вызова метода `Fill()` ранее уже было открыто, например, с помощью метода `Open()/OpenAsync()`, метод Fill просто использует это подключение.


### DataTable, столбцы и строки

Объект DataSet состоит из набора объектов DataTable. Для доступа к таблицам в DataSet определено свойство Tables, которое представляет объект DataTableCollection.

Объект `DataTable`, в свою очередь, состоит из набора объектов DataColumn - описания столбцов таблицы, которые определяют схему таблицы и которые можно получить через свойство Columns.

Кроме столбцов класс `DataTable` определяет свойство Rows, которое представляет тип DataRowCollection и которое хранит строки таблицы. Каждая строка представляет класс DataRow.

Для обращения к отдельным ячейкам строки DataRow предлагает ряд свойств, из которых следует выделить следующие:

- Item[Int32]: возвращает или устанавливает значение ячейки по ее индексу. Возвращает значение типа object.
    
- Item[String]: возвращает или устанавливает значение ячейки по имени столбца. Возвращает значение типа object.
    
- ItemArray: возвращает или устанавливает значения всех ячеек строки в виде объекта `object[]`